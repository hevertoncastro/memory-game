!function(a,b){"use strict";function c(){d()}function d(){function a(){return c(this)?!1:d()?(v=this,v.dataset.opened=!0,m(this,"active"),!1):e(this,v)?(f(this,v),h(),i(),v=null,w=null,!1):(g(this,v),h(),v=null,void(w=null))}function c(a){return JSON.parse(a.dataset.matched)||JSON.parse(a.dataset.opened)||!y?!0:void 0}function d(){return null===v?!0:void 0}function e(a,b){return a.dataset.value===b.dataset.value}function f(a,b){b.dataset.matched=!0,a.dataset.matched=!0,b.dataset.opened=!0,a.dataset.opened=!0,m(a,"active")}function g(a,b){y=!1,a.dataset.opened=!0,m(a,"active"),setTimeout(function(){m(b,"active"),m(a,"active"),b.dataset.opened=!1,a.dataset.opened=!1,y=!0},1200)}function h(){s.value=++x}function i(){var a=u.every(function(a){return JSON.parse(a.dataset.matched)});return a&&alert("Você venceu com "+x+" movimentos!"),!1}function j(){u.forEach(function(a){var b=k(u);q.insertBefore(a,b)})}function k(a){return a[Math.floor(Math.random()*a.length)]}function l(){var a=confirm("Tem certeza que deseja reiniciar o jogo?\nIsso irá mudar a posição de todas as peças!");return a&&(u.forEach(function(a){a.dataset.opened=!1,a.dataset.matched=!1,p(a,"active"),j()}),v=null,w=null,x=0,s.value=x,y=!0),!1}function m(a,b){return n(a,b)?(p(a,b),!1):void o(a,b)}function n(a,b){var c=new RegExp("\\b"+b+"\\b","g");return c.test(a.className)}function o(a,b){a.classList.add(b)}function p(a,b){var c=new RegExp("\\b"+b+"\\b","g");a.className=a.className.replace(c,"")}var q=b.querySelector("main"),r=b.querySelectorAll('[data-js="card"]'),s=b.querySelector('[data-js="moves"]'),t=b.querySelector('[data-js="reset"]'),u=[],v=null,w=null,x=0,y=!0;t.addEventListener("click",l,!1),Array.prototype.forEach.call(r,function(b){b.addEventListener("click",a,!1),b.dataset.opened=!1,b.dataset.matched=!1,u.push(b)}),j()}c()}(window,document);